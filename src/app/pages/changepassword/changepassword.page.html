<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Fiala</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" >
  <!-- <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large"></ion-title>
    </ion-toolbar>
  </ion-header> -->
  <div id="container" padding justify-content-center align-items-center style="height: 100%; width: 100%;">
    <!-- <img style="margin: 10px 10px 20px 35%;" src="../assets/loginicon3.png"> -->
    <form [formGroup]="passwordchangeform" role="form" (ngSubmit)="passwordchange()" #LoginForm="ngForm" style="margin-top: 15px;">

      <ion-item>
        <ion-input id="current_password" name='current_password' formControlName="current_password" type="password" class="form-control" placeholder="Current Password"></ion-input>
      </ion-item>

      <div class="error-messages">
        <ng-container *ngFor="let error of error_messages.current_password">
          <div class="error-messages" *ngIf="passwordchangeform.get('current_password').hasError(error.type) && (passwordchangeform.get('current_password').dirty || passwordchangeform.get('current_password').touched)">
            {{error.message}}
          </div>
        </ng-container>
      </div>
      <ion-item>

        <ion-input id="new_password" formControlName="new_password" type="password" name="new_password" class="form-control" placeholder="New Password"></ion-input>
      </ion-item>

      <div class="error-messages">
          <ng-container *ngFor="let error of error_messages.new_password">
            <div class="error-messages" *ngIf="passwordchangeform.get('new_password').hasError(error.type) && (passwordchangeform.get('new_password').dirty || passwordchangeform.get('new_password').touched)">
              {{error.message}}
            </div>
          </ng-container>
        </div>

        <ion-item>
            <ion-input id="new_password2" formControlName="new_password2" type="password" name="new_password2" class="form-control" placeholder="Password Confirmation"></ion-input>
          </ion-item>

          <div class="error-messages">
              <ng-container >
                <div class="error-messages" *ngIf="passwordchangeform.value.new_password !== passwordchangeform.value.new_password2 ">
                  Password Mismatch
                </div>
              </ng-container>
            </div>


      <ion-button id="loginbutton" (click)=passwordchange() [disabled]="!passwordchangeform.valid" shape="round" size="default"  expand="block" style="margin-top: 15px;">Submit</ion-button>
    </form>
  </div>

</ion-content>
